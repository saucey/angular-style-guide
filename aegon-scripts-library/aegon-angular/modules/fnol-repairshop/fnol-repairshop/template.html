
<! -- Info Form inputs -->
<div class="fnol-repairshop aa-component">

    <div class="fnol-repairshop-form-input" [ngClass]="{'form-visible-mobile': getItemShown == 'info_form'}">
    <div class="row-fluid">
        <h3 class="fnol-repairshop-subhead">U kunt deze tool gebruiken voor het vinden van een bij AEGON Schade Service
            aangesloten autoherstelbedrijf bij u in de buurt.</h3>
    </div>
        <form name="infoForm" novalidate #infoForm="ngForm">
            <div class="fnol-repairshop-form">
                <div class="row-fluid fnol-repairshop-formSpacer">
                    <div class="span4 txtBold nowrap fnol-repairshop__formLblAlign"><label class="fnol-repairshop-formLabel" for="repairshop_postcode">Postcode of plaatsnaam <span
                            class="hidden-mobile fnol-repairshop-mandatory">*</span></label></div>
                    <div class="span8">
                    <p [hidden]="postcode.valid || postcode.pristine" class="fnol-repairshop__errorMsg">
                        Dit veld is verplicht
                      </p>
                    <span class="">
                        <input id="repairshop_postcode" type="text" class="fnol-repairshop-txtbox" name="postcode" [(ngModel)]="repairshop.postcode" required #postcode="ngModel">
                    </span>
                    </div>
                </div>

                <div class="row-fluid fnol-repairshop-formSpacer">
                    <div class="span4 txtBold fnol-repairshop__formRadioLblAlign">Straal</div>
                    <div class="span8 clear-float">
                        <label class="radio">
                            <input type="radio" checked="checked" name="distance" value="KM010" [(ngModel)]="repairshop.distance"/>
                            <span class="radio"></span>0-10 km
                        </label>
                        <label class="radio">
                            <input type="radio" name="distance" value="KM020" [(ngModel)]="repairshop.distance"/>
                            <span class="radio"></span>0-20 km
                        </label>
                        <label class="radio">
                            <input type="radio" name="distance" value="KM050" [(ngModel)]="repairshop.distance"/>
                            <span class="radio"></span>0-50 km
                        </label>
                    </div>
                </div>

                <div class="row-fluid fnol-repairshop-formSpacer">
                    <div class="span4 txtBold fnol-repairshop__formRadioLblAlign">Type schade <span class="hidden-mobile fnol-repairshop-mandatory">*</span></div>
                    <div class="span8 clear-float">
                      <p [hidden]="damage.valid || damage.pristine" class="fnol-repairshop__errorMsg">
                        Dit veld is verplicht
                      </p>
                        <label class="radio">
                            <input type="radio" name="damage" value="WINDOW" [(ngModel)]="repairshop.damage" required #damage="ngModel" />
                            <span class="radio"></span>Alleen ruitschade
                        </label>
                        <label class="radio_longtext">
                            <input type="radio" name="damage" value="BODY" [(ngModel)]="repairshop.damage"/>
                            <span class="radio_longtext"></span>Alleen ruitschade aan carrosserie
                        </label>
                        <label class="radio_longtext">
                            <input type="radio" name="damage" value="SHEET_AND_GLASS" [(ngModel)]="repairshop.damage"/>
                            <span class="radio_longtext"></span>Schade aan plaatwerk en ruitschade
                        </label>
                    </div>
                </div>
                <div class="row-fluid fnol-repairshop-form__BtnSpacer">
                    <div class="span4"></div>
                    <div class="span8">
                        <button type="button" class="button arrow width150px" (click)="repairshopFormSubmit()" [disabled]="!infoForm.form.valid">Zoeken</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

  <! -- Result view Mobile  -->
  <div class="hidden-desktop fnol-repairshop-info-mobile" [hidden]="isHideMobileRepairshopResults" [ngClass]="{'info-visible-mobile': getItemShown == 'result_mobile'}">
    <div><a href="#" (click)="hideMobileResults()"><span class="icon-skinnyarrow">Terug</span></a></div>
    <div class="row-fluid fnol-repairshop-formSpacer">
      <table class="fnol-repairshop-table-mobile-view">
        <thead>
        <tr>
          <th>
            <div class="mob_title_pos">
              <a (click)="sortByKey('ranking')">
                <span class="mob_title_sort" [ngClass]="{'sort-desc': 'DESC' === sortDirection && 'ranking' === sortedBy, 'sort-asc': 'ASC' === sortDirection && 'ranking' === sortedBy}"><aa-hint text="Waardering"></aa-hint>Waardering</span>
              </a>
            </div>
          </th>
          <th>
            <div class="mob_title_right">
              <a (click)="sortByKey('address.radius')">
                <span class="mob_title_sort" [ngClass]="{'sort-desc': 'DESC' === sortDirection && 'address.radius' === sortedBy, 'sort-asc': 'ASC' === sortDirection && 'address.radius' === sortedBy}">Afstand</span>
              </a>
            </div>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td rowspan="2" colspan="2" class="data-wrapper">
            <table class="row-fluid fnol-repairshop-table-mobile-data" *ngFor="let party of parties">
              <tbody>
              <tr>
                <td class="mob_name">{{ party.name }}</td>
                <td class="mob_rating"><span class="rating-star fnol-repairshop__star--{{party.ranking}}"></span></td>
              </tr>
              <tr>
                <td class="mob_phone icon-phone txtBold">{{ party.phone }}</td>
                <td class="mob_distance">{{ party.address.radius }} Km</td>
              </tr>
              <tr colspan="2">
                <td class="mob_address">
                  <ul class="fnol-repairshop-mob-address-list">
                    <li>{{ party.address.street }}</li>
                    <li>{{party.address.houseNumber}} {{ party.address.postCode }}{{ party.address.city }}</li>
                    <li class="address-info-spacer"><span>{{ party.mail }}</span></li>
                  </ul>
                </td>
              </tr>
              <tr colspan="2">
                <td class="mob_location">
                  <a href="https://www.google.nl/maps?q={{ party.address.street}}+{{party.address.houseNumber}},+{{party.address.city}}=nl" target="_blank"><span class="icon-arrow-location location-icon-pos"></span>Locatie</a></td>
              </tr>
              </tbody>
            </table>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

   <! -- Result view Desktop -->
    <div class="fnol-repairshop-result visible-desktop" [hidden]="isHideRepairshopResults">
        <div class="row-fluid result-text">
          <span>Toont {{ this.parties.length }} resultaten <span *ngIf="isShowPaginateInfo">(10 per pagina)</span></span>
        </div>
        <div class="fnol-repairshop-table-sort row-fluid">
            <table>
                <thead>
                <tr>
                    <th colspan="3">
                        <div class="title_pos">
                          <a (click)="sortByKey('name')">
                            <span class="title_sort" [ngClass]="{'sort-desc': 'DESC' === sortDirection && 'name' === sortedBy, 'sort-asc': 'ASC' === sortDirection && 'name' === sortedBy}">Naam</span>
                          </a>

                        </div>
                    </th>
                    <th>
                        <div class="title_pos">
                          <a (click)="sortByKey('ranking')">
                            <span class="title_sort" [ngClass]="{'sort-desc': 'DESC' === sortDirection && 'ranking' === sortedBy, 'sort-asc': 'ASC' === sortDirection && 'ranking' === sortedBy}"><aa-hint text="Waardering"></aa-hint>Waardering</span>
                          </a>
                        </div>
                    </th>
                    <th>
                        <div class="title_pos">
                          <a (click)="sortByKey('address.radius')">
                            <span class="title_sort" [ngClass]="{'sort-desc': 'DESC' === sortDirection && 'address.radius' === sortedBy, 'sort-asc': 'ASC' === sortDirection && 'address.radius' === sortedBy}">Afstand</span>
                          </a>
                        </div>
                    </th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let party of parties | orderBy:sortedBy:sortDirection">
                    <td class="name">{{ party.name }}</td>
                    <td class="phone icon-phone txtBold">{{ party.phone }}</td>
                    <td class="address">
                        <ul class="fnol-repairshop-address-list">
                            <li>{{ party.address.street }}</li>
                            <li>{{party.address.houseNumber}} {{ party.address.postCode }}{{ party.address.city }}</li>
                            <li class="address-info-spacer"><span>{{ party.mail }}</span></li>
                    </ul>
                    </td>
                    <td class="rating">
                        <span class="rating-star fnol-repairshop__star--{{party.ranking}}"></span>
                    </td>
                    <td class="distance">{{ party.address.radius }} Km</td>
                    <td class="location"><a href="https://www.google.nl/maps?q={{ party.address.street}}+{{party.address.houseNumber}},+{{party.address.city}}=nl" target="_blank"><span class="icon-arrow-location location-icon-pos"></span>Locatie</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="row-fluid">
            <div class="fnol-repairshop_pagination">
                <ul class="pager">
                    <li class="pager-item"><a title="Go to first page" href="#">» first</a></li>
                    <li class="pager-next"><a title="Go to previous page" href="#">› previous</a></li>
                    <li class="pager-current first">1</li>
                    <li class="pager-item"><a title="Go to page 2" href="#">2</a></li>
                    <li class="pager-item"><a title="Go to page 3" href="#">3</a></li>
                    <li class="pager-item"><a title="Go to page 4" href="#">4</a></li>
                    <li class="pager-item"><a title="Go to page 5" href="#">5</a></li>
                    <li class="pager-next"><a title="Go to next page" href="#">next ›</a></li>
                    <li class="pager-last last"><a title="Go to last page" href="#">last »</a></li>
                </ul>
            </div>
        </div>
    </div>

</div>
